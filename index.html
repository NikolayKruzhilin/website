<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–í–∞—à–µ –∏–º—è</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="navbar">
    <div class="navbar-logo">
      <span class="logo"></span>
      <span class="navbar-title">–í–∞—à–µ –∏–º—è</span>
    </div>
    <nav class="navbar-links">
      <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
      <a href="cv.html">–†–µ–∑—é–º–µ</a>
      <a href="projects.html">–ü—Ä–æ–µ–∫—Ç—ã</a>
      <a href="certificates.html">–î–∏–ø–ª–æ–º—ã</a>
      <a href="about-me.html">–û–±–æ –º–Ω–µ</a>
      <a href="contact.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
      <button onclick="toggleLanguage()" class="lang-button">
        <img src="flags/svg/ru.svg" alt="Russian" class="flag-icon">
      </button>
    </nav>
  </header>

  <main class="container">
    <section class="chat-main">
      <div class="chat-header">
        <span class="chat-logo">nAI</span>
        <h1 class="chat-title">nikol.AI</h1>
        <p class="chat-subtitle">–í–∞—à –≥–∏–¥ –ø–æ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ</p>
      </div>
      <div class="chat-body" id="chatBody"></div>
      <div class="chat-footer">
        <input type="text" id="chatInput" placeholder="–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –æ –ø—Ä–æ–µ–∫—Ç–∞—Ö, —Ä–µ–∑—é–º–µ –∏–ª–∏ —á—Ç–æ-—Ç–æ –µ—â–µ..." onkeypress="if(event.key === 'Enter') sendMessage()">
        <button onclick="sendMessage()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
      </div>
    </section>
  </main>

  <script>
    const translations = {
      ru: {
        title: "–í–∞—à–µ –∏–º—è",
        navbar: ["–ì–ª–∞–≤–Ω–∞—è", "–†–µ–∑—é–º–µ", "–ü—Ä–æ–µ–∫—Ç—ã", "–î–∏–ø–ª–æ–º—ã", "–û–±–æ –º–Ω–µ", "–ö–æ–Ω—Ç–∞–∫—Ç—ã"],
        chatTitle: "nikol.AI",
        chatSubtitle: "–í–∞—à –≥–∏–¥ –ø–æ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ",
        chatWelcome: "–ü—Ä–∏–≤–µ—Ç, —è nikol.AI ü§ñ ‚Äî —Ü–∏—Ñ—Ä–æ–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫ –ù–∏–∫–æ–ª–∞—è! –ò–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç–µ—Å—å –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ, –æ–ø—ã—Ç–æ–º –∏–ª–∏ —Ä–µ–∑—é–º–µ? –ü—Ä–æ—Å—Ç–æ —Å–ø—Ä–æ—Å–∏—Ç–µ!",
        chatPlaceholder: "–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –æ –ø—Ä–æ–µ–∫—Ç–∞—Ö, —Ä–µ–∑—é–º–µ –∏–ª–∏ —á—Ç–æ-—Ç–æ –µ—â–µ...",
        sendButton: "–û—Ç–ø—Ä–∞–≤–∏—Ç—å",
        flag: "flags/svg/ru.svg"
      },
      en: {
        title: "Your Name",
        navbar: ["Home", "CV", "Projects", "Diplomas", "About Me", "Contact"],
        chatTitle: "nikol.AI",
        chatSubtitle: "Your guide to my portfolio",
        chatWelcome: "Hi, I‚Äôm nikol.AI ü§ñ ‚Äî Nikolay's digital assistant! Curious about the portfolio, experience, or CV? Just ask!",
        chatPlaceholder: "Ask me about Nikolay's projects, CV, or anything else...",
        sendButton: "Send",
        flag: "flags/svg/gb.svg"
      },
      zh: {
        title: "ÊÇ®ÁöÑÂßìÂêç",
        navbar: ["È¶ñÈ°µ", "ÁÆÄÂéÜ", "È°πÁõÆ", "ÊñáÂá≠", "ÂÖ≥‰∫éÊàë", "ËÅîÁ≥ªÊñπÂºè"],
        chatTitle: "nikol.AI",
        chatSubtitle: "ÊàëÁöÑ‰ΩúÂìÅÈõÜÂêëÂØº",
        chatWelcome: "‰Ω†Â•ΩÔºåÊàëÊòØ nikol.AI ü§ñ ‚Äî Â∞ºÂè§ÊãâÁöÑÊï∞Â≠óÂä©ÊâãÔºÅÊÉ≥‰∫ÜËß£‰ΩúÂìÅÈõÜ„ÄÅÁªèÈ™åÊàñÁÆÄÂéÜÔºüËØ∑ÂëäËØâÊàëÔºÅ",
        chatPlaceholder: "ËØ¢ÈóÆÂ∞ºÂè§ÊãâÁöÑÈ°πÁõÆ„ÄÅÁÆÄÂéÜÊàñ‰ªª‰ΩïÂÖ∂‰ªñÂÜÖÂÆπ...",
        sendButton: "ÂèëÈÄÅ",
        flag: "flags/svg/cn.svg"
      }
    };

    function setLanguage(lang) {
      document.documentElement.lang = lang;
      const title = document.querySelector('title');
      const navbarLinks = document.querySelectorAll('.navbar-links a');
      const chatTitle = document.querySelector('.chat-title');
      const chatSubtitle = document.querySelector('.chat-subtitle');
      const chatInput = document.getElementById('chatInput');
      const sendButton = document.querySelector('.chat-footer button');
      const languageButton = document.querySelector('.lang-button img');

      title.textContent = translations[lang].title;
      navbarLinks.forEach((link, index) => link.textContent = translations[lang].navbar[index]);
      chatTitle.textContent = translations[lang].chatTitle;
      chatSubtitle.textContent = translations[lang].chatSubtitle;
      chatInput.placeholder = translations[lang].chatPlaceholder;
      sendButton.textContent = translations[lang].sendButton;
      languageButton.src = translations[lang].flag;
      languageButton.alt = `${lang.toUpperCase()} Flag`;

      const chatBody = document.getElementById('chatBody');
      chatBody.innerHTML = '';
      const welcomeMessage = document.createElement('div');
      welcomeMessage.className = 'chat-message bot';
      welcomeMessage.textContent = translations[lang].chatWelcome;
      chatBody.appendChild(welcomeMessage);
      chatBody.scrollTop = chatBody.scrollHeight;
    }

    function toggleLanguage() {
      const currentLang = document.documentElement.lang;
      const langs = ['ru', 'en', 'zh'];
      const nextLang = langs[(langs.indexOf(currentLang) + 1) % langs.length];
      setLanguage(nextLang);
    }

    function sendMessage() {
      const input = document.getElementById('chatInput');
      const chatBody = document.getElementById('chatBody');
      const message = input.value.trim();
      const lang = document.documentElement.lang;

      if (message) {
        const userMessage = document.createElement('div');
        userMessage.className = 'chat-message user';
        userMessage.textContent = message;
        chatBody.appendChild(userMessage);

        fetch("https://eoc63dzqz15zwlt.m.pipedream.net", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "ngrok-skip-browser-warning": "true"
          },
          body: JSON.stringify({ message })
        })
        .then(response => response.json())
        .then(data => {
          const botMessage = document.createElement('div');
          botMessage.className = 'chat-message bot';
          botMessage.textContent = data.message || {
            ru: "ü§ñ –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞",
            en: "ü§ñ Failed to receive reply from server",
            zh: "ü§ñ Êú™ËÉΩ‰ªéÊúçÂä°Âô®Ëé∑ÂèñÂõûÂ∫î"
          }[lang];
          chatBody.appendChild(botMessage);
          chatBody.scrollTop = chatBody.scrollHeight;
        })
        .catch(error => {
          const botMessage = document.createElement('div');
          botMessage.className = 'chat-message bot';
          botMessage.textContent = {
            ru: "‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É",
            en: "‚ö†Ô∏è Server connection error",
            zh: "‚ö†Ô∏è ‰∏éÊúçÂä°Âô®ËøûÊé•ÈîôËØØ"
          }[lang];
          chatBody.appendChild(botMessage);
          console.error("Fetch error:", error);
        });

        input.value = '';
      }
    }

    window.onload = function() {
      setLanguage(localStorage.getItem('language') || 'ru');
    };
  </script>
<script src='https://cdn.jotfor.ms/agent/embedjs/019864c630e0766a937ed4cac99c008fdd84/embed.js?skipWelcome=1&maximizable=1'></script>
</body>
</html>
